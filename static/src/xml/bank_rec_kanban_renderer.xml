<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <!-- Heredamos el template del BankRecKanbanRenderer para ocultar el resumen de balance por permisos -->
    <t t-name="adroc_account_move_fixes.BankRecKanbanRenderer" t-inherit="account_accountant.BankRecKanbanRenderer" t-inherit-mode="extension">
        <!-- Ocultar el BankRecStatementSummary del total general del journal -->
        <xpath expr="//BankRecStatementSummary[@t-if='hasStatementLine > 1']" position="attributes">
            <attribute name="t-if">hasStatementLine > 1 and canViewBalanceSummary</attribute>
        </xpath>

        <!-- Ocultar el BankRecStatementSummary de los statements individuales -->
        <xpath expr="//t[@t-if='recordData']/BankRecStatementSummary" position="replace">
            <BankRecStatementSummary
                t-if="canViewBalanceSummary"
                label="recordData.name"
                amount="recordData.balance"
                action="() => this.actionOpenStatement(recordData.statementId)"
                isValid="recordData.isValid"
            />
        </xpath>
    </t>
</templates>
